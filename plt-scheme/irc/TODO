-*-outline-*-

-- High priority

* make it more resilient to bad input
  e.g., if the server sends a line with too few fields, I'll tokenize
  it and then merrily call e.g. (list-ref tokens 4) on it, thus
  crashing.

* Deal with netsplits, or whatever the hell it is 
  ... that makes the bot not work even though /whois says it's still
  there.  Also, what do I do if it connects and the server says that
  the nick is already registered?  (Try again, passing a --nick
  command.)

** Maybe registering the nick on freenode will help.

* Convert from strings to bytes
  Wherever possible, change from using "string" procedures to "bytes"
  procedures -- since IRC doesn't specify any character encoding.  As
  things stand now, we're implicitly using UTF-8 everywhere; it'd be
  better for the encoding to be explicit.  That way, eventually I
  could have per-channel encodings.

-- Low priority

* Be a tad smarter about CTCP
  If a PRIVMSG's parameters begin and end with a 1 byte, it's CTCP, so
  strip off those bytes and treat it specially, fer cryin' out loud.
  See http://www.irchelp.org/irchelp/rfc/ctcpspec.html

* maybe periodically see what channels _I'm_ in, and join them if it's
  not already in them.  Like a little puppy dog.  This is harder than
  it sounds, since it's not blindingly clear who "I" am -- sometimes
  my nick changes.  It would probably be best to find me by host name,
  not nick.

* allow it to be accessed by a REPL while it's running
  I don't really know what I mean by this, but: I often think of
  improvements to make to it, and hate having to stop it and restart
  it in order to incorporate those improvements.

* Catch Control-C so that we don't spew an ugly stack trace when we're killed.
  Maybe even do a nice PART and QUIT while we're at it.

* Do the tinyurl thing!!
  I.e., whenever anyone utters a URL (that isn't itself a tinyurl),
  send it to tinyurl, and utter the tiny version.  A public service!

* Do buubot's job...
  ... find Ebert reviews of movies.  Use IMDB; find the "external
  reviews" link; find Ebert's name.

* When tokenizing, treat unicode whitespace as ... whitespace

* jordanb quotes

** multi-line quotes get truncated
   I.e., I suspect they occupy more than one line in the log file in
   ~/log, but my simpleminded "grep" function only retrieves the first
   line.

** some quotes contain timestamps
   like this:

    <rudybot> Let's live in a basement down the stairs on montague street.
              [14:09]

** Cancelling the thread takes a while
  I.e., I say "shaddap", and it emits a few more quotes before going
  away (at least, if the interval is just a few seconds).  It should
  be immediate.

** Catch up the testing!
  As often happens, development has pulled ahead of testing.  In
  particular, the jordanb-quote-thread stuff isn't tested.

* emacschannelquotes
  <e1f> offby1: you need to include emacschannelquotes in rudebot
  He means snag stuff from
  http://www.emacswiki.org/cgi-bin/wiki?EmacsChannelQuotes, but I'd
  rather not do that since most of those quotes are multi-line, and
  wouldn't look good if collapsed.

* Respond to "version"
  since people seem to expect that

* fix these
**
<offby1> rudybot: seen mwolson 
<rudybot> mwolson last spoke at 2007-07-24T00:35:05Z, saying "\u0001ACTION nods\u0001"

* don't restrict "seen" to the current channel

  I.e., if bob speaks in #cats, and someone in #dogs asks "seen bob",
  we should say "bob last spoke, in #cats, at 1:23:45 PM, saying
  "meow"
